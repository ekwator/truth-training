## Слой коллективного интеллекта (Мудрость толпы)

`collective_score ∈ [0,1]` — агрегированная коллективная оценка события на основе независимых суждений пользователей (записей `impact`).

- Принцип: независимые валидаторы оставляют оценки (`impact.value` ∈ {0,1}). Выбросы взаимно компенсируются, по мере накопления голосов формируется консенсус.
- Агрегация (MVP): `collective_score = AVG(impact.value)` по `event_id`. Это соответствует протоколу оценки событий `S_e` после преобразования из диапазона `[-1,1]` в `[0,1]` формулой `S_e' = (S_e + 1)/2`.
- Связь с текущими метриками:
  - `trust_score` (для узлов) отражает надёжность валидаторов; в будущих версиях голоса могут взвешиваться по доверию.
  - `quality_index` характеризует непрерывность/качество распространения и согласованности; влияет на скорость распространения консенсуса.
- Распространение через P2P: `collective_score` хранится в `truth_events.collective_score` и передаётся в составе `TruthEvent` при синхронизации. Узлы пересчитывают локально и обмениваются значениями; сходимость достигается итеративно.

Пример
- Если голоса распределены поровну, `collective_score ≈ 0.5`. При доминировании подтверждений `collective_score → 1.0`; при преобладании опровержений — `collective_score → 0.0`.

Дорожная карта
- Взвешивание голосов по `trust_score` (`W_v`) в духе `spec/07-event-rating-protocol.md` (`S_e`).
- Пороговые правила для влияния на `truth_events.code`.
- Распространение и согласование взвешенного консенсуса в P2P.
